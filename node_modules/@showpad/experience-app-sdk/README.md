# Experience App SDK

## Introduction

The Experience App SDK is a typescript library to help you utilize ShowpadJS in
your experience apps.

## Requirements

**Development**

- HTML & JavaScript knowledge
- a Code Editor (we like [Visual Studio Code](https://code.visualstudio.com/))
- [Node.js 15+](https://nodejs.org/en/)

**Showpad**

- Ultimate subscription to Showpad
- Administrator access to Showpad's Online Platform

## Platform & Browser Compatibility

> **@next versions**: Versions tagged with --next might contain small issues.
> Only use in production if you can alter the .Showpad package quickly.

### Development

|         | Localhost | Proxy App |
| ------- | :-------: | :-------: |
| Chrome  |    ✅     |    ✅     |
| Firefox |    ✅     |    ✅     |
| Edge    |    ✅     |    ✅     |
| Safari  |    ✅     |    ❌     |

> **The Proxy App doesn't run on Safari**: Use another browser to run the Proxy
> App while developing Localhost on Safari.

### Production

|             |  WEB  |  iOS  | Android | Windows |
| ----------- | :---: | :---: | :-----: | :-----: |
| SDK Version | 2.2.1 | 2.2.1 |  2.2.1  |  2.2.1  |

> **Showpad Experience Apps run inside Iframes**: Use relative paths in
> production.

> **The Experience App SDK targets ES2022**: Transpile your code if you need
> legacy support.

## Documentation

You can find documentation on the
[Showpad Developer Portal](https://docs.api.showpad.com/).

## Installation

```shell
# npm
npm i @showpad/experience-app-sdk

# yarn
yarn add @showpad/experience-app-sdk
```

We also offer the Experience App SDK through a CDN under the format:
`https://app-tools.showpad.com/sdk/experience-app-sdk.VERSION.js`

You can replace `VERSION` by:

- `latest`: https://app-tools.showpad.com/sdk/experience-app-sdk.latest.js
- `next`: https://app-tools.showpad.com/sdk/experience-app-sdk.next.js
- Fixed version (example: `2.1.8`):
  https://app-tools.showpad.com/sdk/experience-app-sdk.2.1.8.js

```html
<!-- Example for the latest version  -->
<script src="https://app-tools.showpad.com/sdk/experience-app-sdk.latest.js"></script>
```

## Usage

```ts
import { Showpad } from '@showpad/experience-app-sdk';

const main = async (): Promise<void> => {
  // Always wait for ShowpadLib to be loaded
  await Showpad.onShowpadLibLoaded();

  const userInfo = await Showpad.getUserInfo();
  const deviceInfo = await Showpad.getDeviceInfo();
};

main();
```

The equivalent in a standard HTML file through the CDN could be this. To develop
on `localhost`, you will still need the Experience App CLI in a Node
environment. We recommend using a build tool like [`vite`](https://vitejs.dev/)
for local development.

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Experience App</title>
  </head>
  <body>
    <!-- Injects ShowpadSdk on the window object -->
    <script src="https://app-tools.showpad.com/sdk/experience-app-sdk.latest.js"></script>

    <script>
      const { Showpad } = ShowpadSdk;

      const main = async () => {
        // Always wait for ShowpadLib to be loaded
        await Showpad.onShowpadLibLoaded();

        const userInfo = await Showpad.getUserInfo();
        const deviceInfo = await Showpad.getDeviceInfo();
      };

      main();
    </script>
  </body>
</html>
```
